(this["webpackJsonpsudoku-app"]=this["webpackJsonpsudoku-app"]||[]).push([[0],{21:function(n,t,r){},24:function(n,t,r){"use strict";r.r(t);var e,u=r(0),l=r(1),i=r.n(l),o=r(12),a=r.n(o),c=(r(21),r(10)),s=r(4),f=r(2),d=r(3);!function(n){n[n.COMPLETED=0]="COMPLETED",n[n.ERRORS=1]="ERRORS",n[n.IN_PROGRESS=2]="IN_PROGRESS",n[n.PLAYING=3]="PLAYING",n[n.WRONG_INPUT=4]="WRONG_INPUT"}(e||(e={}));var b,p=function(n){return n[0].map((function(t,r){return n.map((function(n){return n[r]}))}))},j=[[0,0],[0,3],[0,6],[3,0],[3,3],[3,6],[6,0],[6,3],[6,6]],O=[[1,2,3],[4,5,6],[7,8,9]],x=function(n){return j.map((function(t){for(var r=Object(s.a)(t,2),e=r[0],u=r[1],l=[],i=0;i<=2;i++)l.push(n[e+i][u],n[e+i][u+1],n[e+i][u+2]);return l}))},h=function(n){b=n},v=function(n){return function(n){return n.map((function(n){return n.map((function(n){return n.value}))}))}(n).forEach((function(t,r){for(var u=t.filter((function(n){return null!==n})),l=[],i=0;i<u.length-1;i++)-1===l.indexOf(u[i])&&-1!==u.indexOf(u[i],i+1)&&l.push(u[i]);l.length&&(l.forEach((function(t){n[r].forEach((function(n){n.value!==t||n.isPrefilled||(n.isError=!0)}))})),h(e.ERRORS))})),n},g=function(n){return v(n)},P=function(n){return p(v(p(n)))},m=function(n){return x(v(x(n)))},S=function(n){return h(e.IN_PROGRESS),{sudokuBoard:m(P(g(n))),status:b}},R=function(n){if(!function(n){try{JSON.parse(n)}catch(t){return!1}return!0}(n))return!1;var t=JSON.parse(n);return!!Array.isArray(t)&&(9===t.length&&(!!function(n){for(var t=0;t<n.length;t++)if(!Array.isArray(n[t])||9!==n[t].length)return!1;return!0}(t)&&(!!function(n){for(var t=function(n){return[1,2,3,4,5,6,7,8,9,null].includes(n)},r=0;r<n.length;r++)if(!n[r].every(t))return!1;return!0}(t)&&!!function(n){return S(function(n){return n.map((function(n){return n.map((function(n){return{value:n,isPrefilled:!1,isError:!1}}))}))}(n)).status!==e.ERRORS}(t))))},E=[[6,null,null,null,null,null,8,7,2],[null,7,5,null,null,1,6,null,null],[null,null,null,null,null,2,null,null,3],[null,2,null,null,null,null,9,4,null],[null,null,4,3,null,6,null,null,1],[null,6,9,null,null,4,null,null,5],[null,null,null,9,null,null,null,null,null],[4,null,2,7,null,null,1,null,8],[null,null,null,4,null,null,null,2,6]],k=function(n){return n.map((function(n){return n.map((function(n){return{value:n,isPrefilled:!!n,isError:!1}}))}))},N=function(n){var t=n.inputValue,r=n.onChange;return Object(u.jsx)("label",{htmlFor:"custom-start-point","data-testid":"input-wrapper",children:Object(u.jsx)("textarea",{id:"custom-start-point","data-testid":"textarea",placeholder:"Provide valid 2D array containing digits and nulls to start a game...",value:t,onChange:function(n){return r(n.target.value)},rows:5,cols:30})})};function I(){var n=Object(f.a)(["\n  font-size: 16px;\n  width: 160px;\n  height: 50px;\n  line-height: 48px;\n  background-color: none;\n  border: 1px solid #a89243;\n  border-radius: 4px;\n  color: #a89243;\n  outline: none;\n  margin-bottom: 20px;\n  cursor: pointer;\n\n  &:disabled {\n    border: 1px solid #333;\n    color: #333;\n    cursor: initial;\n  }\n"]);return I=function(){return n},n}function w(){var n=Object(f.a)(["\n  flex: 0 1 300px;\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n  justify-content: flex-start;\n  margin: 20px 0;\n"]);return w=function(){return n},n}var y=d.a.div(w()),G=d.a.button(I()),C=function(n){var t=n.onValidate,r=n.onReset,e=n.onStart,l=n.inputValue,i=n.onInputValueChange;return Object(u.jsxs)(y,{children:[Object(u.jsx)(G,{"data-testid":"validate-button",onClick:t,children:"Validate"}),Object(u.jsx)(G,{"data-testid":"reset-button",onClick:r,children:"Reset"}),Object(u.jsx)(G,{"data-testid":"start-button",disabled:!l,onClick:e,children:"Start from input"}),Object(u.jsx)(N,{inputValue:l,onChange:i})]})};function A(){var n=Object(f.a)(["\n  border: 1px solid #333;\n  width: 30px;\n  height: 30px;\n  box-sizing: border-box;\n  text-align: center;\n  vertical-align: middle;\n"]);return A=function(){return n},n}function L(){var n=Object(f.a)(["\n  border-collapse: collapse;\n  font-size: 16px;\n  color: #333;\n  border: none;\n"]);return L=function(){return n},n}var V=d.a.table(L()),B=d.a.td(A()),_=function(n){var t=n.onPick;return Object(u.jsx)(V,{children:Object(u.jsx)("tbody",{children:O.map((function(n,r){return Object(u.jsx)("tr",{children:n.map((function(n){return Object(u.jsx)(B,{onClick:function(r){return t(r,n)},children:n},"".concat(r,"-").concat(n))}))},r)}))})})};function T(){var n=Object(f.a)(["\n  border: 1px solid #333;\n  width: 91px;\n  height: 91px;\n  font-size: 32px;\n  font-weight: ",";\n  color: ",";\n  cursor: ",";\n  background-color: ",";\n  text-align: center;\n  vertical-align: middle;\n\n  &:nth-child(3n) {\n    border-right: 3px solid #333;\n  }\n"]);return T=function(){return n},n}function J(){var n=Object(f.a)(["\n  &:nth-child(3n) {\n    border-bottom: 3px solid #333;\n  }\n"]);return J=function(){return n},n}function Y(){var n=Object(f.a)(["\n  border-collapse: collapse;\n  border: 3px solid #333;\n  flex: 0 0 837px;\n"]);return Y=function(){return n},n}var z=d.a.table(Y()),D=d.a.tr(J()),M=d.a.td(T(),(function(n){return n.isPrefilled?"700":"400"}),(function(n){return n.isError?"red":"#333"}),(function(n){return n.isPrefilled?"initial":"pointer"}),(function(n){return n.isSelected?"#a89243":"transparent"})),U=function(n){var t=n.sudokuBoardValues,r=n.selected,e=n.onPick,l=n.onSelect,i=function(n,t){return n[0]===t[0]&&n[1]===t[1]};return Object(u.jsx)(z,{children:Object(u.jsx)("tbody",{children:t.map((function(n,t){return Object(u.jsx)(D,{children:n.map((function(n,o){return Object(u.jsx)(M,{isSelected:i(r,[t,o]),isError:n.isError,isPrefilled:n.isPrefilled,onClick:n.isPrefilled?function(){}:function(){return l([t,o])},children:i(r,[t,o])?Object(u.jsx)(_,{onPick:e}):Object(u.jsx)("span",{children:n.value})},"".concat(t,"-").concat(o))}))},t)}))})})},W=function(n){for(var t=0;t<n.length;t++)for(var r=0;r<n[t].length;r++)if(null===n[t][r].value)return!1;return!0},F=function(n){var t;switch(n){case e.COMPLETED:t="Congrats, you did it!";break;case e.ERRORS:t="Some fields need to be corrected...";break;case e.IN_PROGRESS:t="So far, so good!";break;case e.PLAYING:t="";break;case e.WRONG_INPUT:t="Provided input is wrong, game started with default board!";break;default:t=""}return t};function q(){var n=Object(f.a)(["\n  flex: 0 0 100%;\n  height: 60px;\n  text-align: center;\n  font-size: 32px;\n  line-height: 60px;\n  margin-bottom: 30px;\n  color: #a89243;\n"]);return q=function(){return n},n}var H=d.a.p(q()),K=function(n){var t=n.status;return Object(u.jsx)(H,{children:F(t)})};function Q(){var n=Object(f.a)(["\n  display: flex;\n  flex-flow: row wrap;\n  align-items: flex-start;\n  justify-content: center;\n"]);return Q=function(){return n},n}var X=d.a.main(Q()),Z=function(){var n=Object(l.useState)([null,null]),t=Object(s.a)(n,2),r=t[0],i=t[1],o=Object(l.useState)([[]]),a=Object(s.a)(o,2),f=a[0],d=a[1],b=Object(l.useState)(e.PLAYING),p=Object(s.a)(b,2),j=p[0],O=p[1],x=Object(l.useState)(""),h=Object(s.a)(x,2),v=h[0],g=h[1],P=function(n){var t=function(n){return n?R(n)?(E=JSON.parse(n),{sudokuBoard:k(E),status:e.PLAYING}):{sudokuBoard:k(E),status:e.WRONG_INPUT}:{sudokuBoard:k(E),status:e.PLAYING}}(n),r=t.sudokuBoard,u=t.status;d(JSON.parse(JSON.stringify(r))),O(u)};Object(l.useEffect)((function(){P()}),[]);var m=function(){var n=S(Object(c.a)(f)),t=n.sudokuBoard,r=n.status;d(t),O(r),i([null,null])};return Object(u.jsxs)(X,{children:[Object(u.jsx)(K,{status:j}),Object(u.jsx)(U,{sudokuBoardValues:f,selected:r,onPick:function(n,t){n.stopPropagation();var u=Object(c.a)(f);null===r[0]||null===r[1]||u[r[0]][r[1]].isPrefilled||(u[r[0]][r[1]]={value:t,isPrefilled:!1,isError:!1},W(u)?(m(),j===e.IN_PROGRESS&&O(e.COMPLETED)):(d(u),O(e.PLAYING)),i([null,null]))},onSelect:function(n){i(n)}}),Object(u.jsx)(C,{onValidate:m,onReset:function(){P(),i([null,null])},onStart:function(){P(v),g(""),i([null,null])},inputValue:v,onInputValueChange:function(n){g(n)}})]})};var $=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(Z,{})})};a.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)($,{})}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.d7012126.chunk.js.map